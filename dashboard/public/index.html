<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SecureShield Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <body class="bg-white font-sans">
    <div class="flex min-h-screen">
      <!-- Sidebar with toggle -->
      <aside id="sidebar" class="w-48 bg-white border-r border-gray-200 flex flex-col transition-transform duration-300">
        <div class="px-6 py-5 border-b border-gray-200 flex items-center justify-between">
          <h1 class="text-lg font-bold text-blue-700">SecureShield</h1>
          <button
            id="sidebarToggle"
            aria-label="Toggle sidebar"
            class="text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded"
            type="button"
          >
            <i class="fas fa-bars text-lg"></i>
          </button>
        </div>
        <nav class="flex flex-col mt-6 space-y-1 px-2">
          <a
            href="#"
            class="text-white bg-blue-700 rounded-md px-3 py-2 text-sm font-medium"
            aria-current="page"
            >Dashboard</a
          >
          <a
            href="#"
            class="text-gray-700 hover:bg-gray-100 rounded-md px-3 py-2 text-sm font-medium"
            >Alerts</a
          >
          <a
            href="#"
            class="text-gray-700 hover:bg-gray-100 rounded-md px-3 py-2 text-sm font-medium"
            >Reports</a
          >
          <a
            href="#"
            class="text-gray-700 hover:bg-gray-100 rounded-md px-3 py-2 text-sm font-medium"
            >Settings</a
          >
        </nav>
      </aside>
  
      <!-- Main content -->
      <main class="flex-1 p-6">
        <div class="flex justify-between items-center mb-6">
          <div>
            <h2 class="text-xl font-semibold text-gray-900">Dashboard</h2>
            <p class="text-sm text-gray-500">Monitor and detect threats in your system</p>
          </div>
          <button
            id="toggleSystemBtn"
            type="button"
            class="bg-red-600 text-white text-sm font-semibold px-4 py-1 rounded"
            aria-pressed="false"
            aria-label="Toggle system status"
          >
            System Off
          </button>
        </div>
  
        <!-- Chart container -->
        <div class="bg-white border border-gray-200 rounded-md p-6 mb-8">
          <h3 class="text-gray-900 font-semibold mb-4">Attack Monitoring Chart</h3>
          <div class="overflow-x-auto flex justify-center items-center h-64 border border-dashed border-gray-300 rounded-md text-gray-400 text-lg font-medium select-none">
            Chart will be rendered here by React
          </div>
        </div>
  
        <!-- Log Serangan Table with filter dropdown, rows per page, and pagination -->
        <div class="bg-white border border-gray-200 rounded-md p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-gray-900 font-semibold">Attack Logs</h3>
            <div class="flex space-x-4 items-center">
              <div class="relative inline-block text-left">
                <button
                  id="filterBtn"
                  type="button"
                  class="inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-3 py-1 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  aria-haspopup="true"
                  aria-expanded="false"
                  aria-controls="filterMenu"
                >
                  Filter Attack Type
                  <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
  
                <div id="filterMenu" class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none hidden z-10" role="menu" aria-orientation="vertical" aria-labelledby="filterBtn" tabindex="-1">
                  <div class="py-1" role="none">
                    <button type="button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1" data-filter="all">All</button>
                    <button type="button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1" data-filter="sql-injection">SQL Injection</button>
                    <button type="button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1" data-filter="web-shell">Web Shell</button>
                    <button type="button" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" role="menuitem" tabindex="-1" data-filter="ddos">DDoS</button>
                  </div>
                </div>
              </div>
  
              <div class="flex items-center space-x-2">
                <label for="rowsPerPage" class="text-sm font-medium text-gray-700">Rows per page:</label>
                <select id="rowsPerPage" class="rounded border border-gray-300 text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none px-2 py-1">
                  <option value="10" selected>10</option>
                  <option value="20">20</option>
                  <option value="50">50</option>
                </select>
              </div>
            </div>
          </div>
  
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200 text-sm">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">Time</th>
                  <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">Attack Type</th>
                  <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">Source IP</th>
                  <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">Status</th>
                  <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">Actions</th>
                </tr>
              </thead>
              <tbody id="attackLogsBody" class="divide-y divide-gray-100">
                <!-- No data rows -->
              </tbody>
            </table>
          </div>
  
          <!-- Pagination -->
          <div class="mt-4 flex justify-end space-x-2">
            <button id="prevPageBtn" class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100 disabled:opacity-50" disabled>Previous</button>
            <button id="page1Btn" class="px-3 py-1 rounded border border-blue-600 bg-blue-600 text-white hover:bg-blue-700">1</button>
            <button id="page2Btn" class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100">2</button>
            <button id="page3Btn" class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100">3</button>
            <button id="nextPageBtn" class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-100">Next</button>
          </div>
        </div>
      </main>
    </div>
  
    <script>
      // Toggle system on/off button with color change
      const toggleBtn = document.getElementById('toggleSystemBtn');
      toggleBtn.addEventListener('click', () => {
        const isActive = toggleBtn.getAttribute('aria-pressed') === 'true';
        if (isActive) {
          toggleBtn.textContent = 'System Off';
          toggleBtn.classList.remove('bg-green-600');
          toggleBtn.classList.add('bg-red-600');
          toggleBtn.setAttribute('aria-pressed', 'false');
        } else {
          toggleBtn.textContent = 'System On';
          toggleBtn.classList.remove('bg-red-600');
          toggleBtn.classList.add('bg-green-600');
          toggleBtn.setAttribute('aria-pressed', 'true');
        }
      });
  
      // Sidebar toggle
      const sidebar = document.getElementById('sidebar');
      const sidebarToggle = document.getElementById('sidebarToggle');
      sidebarToggle.addEventListener('click', () => {
        if (sidebar.classList.contains('-translate-x-full')) {
          sidebar.classList.remove('-translate-x-full');
        } else {
          sidebar.classList.add('-translate-x-full');
        }
      });
  
      // Initially hide sidebar on small screens
      function handleResize() {
        if (window.innerWidth < 640) {
          sidebar.classList.add('-translate-x-full');
        } else {
          sidebar.classList.remove('-translate-x-full');
        }
      }
      window.addEventListener('resize', handleResize);
      handleResize();
  
      // Dropdown toggle
      const filterBtn = document.getElementById('filterBtn');
      const filterMenu = document.getElementById('filterMenu');
      filterBtn.addEventListener('click', () => {
        const isHidden = filterMenu.classList.contains('hidden');
        if (isHidden) {
          filterMenu.classList.remove('hidden');
          filterBtn.setAttribute('aria-expanded', 'true');
        } else {
          filterMenu.classList.add('hidden');
          filterBtn.setAttribute('aria-expanded', 'false');
        }
      });
  
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!filterBtn.contains(e.target) && !filterMenu.contains(e.target)) {
          filterMenu.classList.add('hidden');
          filterBtn.setAttribute('aria-expanded', 'false');
        }
      });
  
      // Filter buttons (no actual data filtering since no data)
      const filterOptions = filterMenu.querySelectorAll('button[data-filter]');
      filterOptions.forEach(button => {
        button.addEventListener('click', () => {
          // Update button text
          filterBtn.firstChild.textContent = button.textContent;
          filterMenu.classList.add('hidden');
          filterBtn.setAttribute('aria-expanded', 'false');
          // Here you would add filtering logic for the table rows based on button.dataset.filter
        });
      });
  
      // Rows per page select (no actual pagination since no data)
      const rowsPerPageSelect = document.getElementById('rowsPerPage');
      rowsPerPageSelect.addEventListener('change', () => {
        const rows = rowsPerPageSelect.value;
        // Here you would add logic to update the number of visible rows in the table
        // Since no data, no action needed now
      });
  
      // Pagination buttons (no actual pagination since no data)
      const prevPageBtn = document.getElementById('prevPageBtn');
      const nextPageBtn = document.getElementById('nextPageBtn');
      const pageButtons = [document.getElementById('page1Btn'), document.getElementById('page2Btn'), document.getElementById('page3Btn')];
  
      pageButtons.forEach((btn, index) => {
        btn.addEventListener('click', () => {
          pageButtons.forEach(b => {
            b.classList.remove('bg-blue-600', 'text-white', 'border-blue-600');
            b.classList.add('border-gray-300', 'text-gray-700', 'hover:bg-gray-100');
          });
          btn.classList.add('bg-blue-600', 'text-white', 'border-blue-600');
          btn.classList.remove('border-gray-300', 'text-gray-700', 'hover:bg-gray-100');
          // Here you would add logic to load the selected page data
        });
      });
  
      prevPageBtn.addEventListener('click', () => {
        // Logic for previous page
        // Disabled here as no data
      });
  
      nextPageBtn.addEventListener('click', () => {
        // Logic for next page
        // Disabled here as no data
      });
    </script>
  
    <style>
      /* For smooth sidebar hide/show */
      #sidebar {
        transform: translateX(0);
      }
      #sidebar.-translate-x-full {
        transform: translateX(-100%);
      }
    </style>
  </body>
</html>
